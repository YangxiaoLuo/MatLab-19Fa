close all
A = imread('example.jpg');
A0 = A;
imshow(A);
AR = A(:,:,1);
figure;
imshow(AR,[]);
[AR1 AR2 AR3 AR4] = dwt2(AR,'db2');
AR2(abs(AR2)<6)=0.0;
AR3(abs(AR3)<6)=0.0;
AR4(abs(AR4)<6)=0.0;
[AR11 AR12 AR13 AR14] = dwt2(AR1,'db2');
AR12(abs(AR12)<6)=0.0;
AR13(abs(AR13)<6)=0.0;
AR14(abs(AR14)<6)=0.0;
AR1 = idwt2(AR11,AR12,AR13,AR14,'db2');
AR1 = AR1(1:end-1,1:end-1);
AR = idwt2(AR1,AR2,AR3,AR4,'db2');
figure;
imshow(AR,[]);
A(:,:,1) = AR;
figure;
AG = A(:,:,2);
imshow(AG,[]);
[AG1 AG2 AG3 AG4] = dwt2(AG,'db2');
AG2(abs(AG2)<6)=0.0;
AG3(abs(AG3)<6)=0.0;
AG4(abs(AG4)<6)=0.0;
AG = idwt2(AG1,AG2,AG3,AG4,'db2');
figure;
imshow(AG,[]);
A(:,:,2) = AG;
figure;
AB = A(:,:,3);
imshow(AB,[]);
[AB1 AB2 AB3 AB4] = dwt2(AB,'db2');
AB2(abs(AB2)<20)=0.0;
AB3(abs(AB3)<20)=0.0;
AB4(abs(AB4)<20)=0.0;
[AB11 AB12 AB13 AB14] = dwt2(AB1,'db2');
AB12(abs(AB12)<20)=0.0;
AB13(abs(AB13)<20)=0.0;
AB14(abs(AB14)<20)=0.0;
AB1 = idwt2(AB11,AB12,AB13,AB14,'db2');
AB1 = AB1(1:end-1,1:end-1);
AB = idwt2(AB1,AB2,AB3,AB4,'db2');
figure;
imshow(AB,[]);
A(:,:,3) = AB;
figure;
imshow(A);
figure;
imshow(double(abs(A-A0)),[]);